{% extends 'index.html' %}
{% load static %}

{% block title %}{{ artist.name }} - Weren't Here Music{% endblock %}

{% block content %}
<div class="artist-page">
<section class="artist-hero">
    <div class="artist-hero-content">
        <div class="artist-avatar">
            {% if artist.photo_url %}
            <img src="{{ artist.photo_url }}" alt="{{ artist.name }}" class="artist-avatar-img">
            {% else %}
            <div class="artist-avatar-placeholder">
                {{ artist.name }}
            </div>
            {% endif %}
        </div>
        <div class="artist-info">
            <h1 class="artist-name">{{ artist.name }}</h1>
            {% if artist.verified %}
            <div class="artist-verified">
                <span class="verified-badge-large">‚úì –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–π –∞—Ä—Ç–∏—Å—Ç</span>
            </div>
            {% endif %}
            <div class="artist-stats">
                <span class="stat">{{ tracks.count }} —Ç—Ä–µ–∫–æ–≤</span>
                <span class="stat">{{ albums.count }} –∞–ª—å–±–æ–º–æ–≤</span>
                <span class="stat">{{ artist.total_listens }} –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π</span>
            </div>
        </div>
    </div>
</section>

<section class="section">
    <div class="section-header">
        <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–∫–∏</h2>
        <span class="track-count">{{ tracks.count }} —Ç—Ä–µ–∫–æ–≤</span>
    </div>
    
    <div class="track-list">
        {% for track in tracks %}
        <div class="track-item">
            <div class="track-number">{{ forloop.counter }}</div>
            <div class="track-info">
                <div class="track-title">{{ track.title }}</div>
                <div class="track-album">
                    {% if track.album %}
                    {{ track.album.title }}
                    {% else %}
                    –°–∏–Ω–≥–ª
                    {% endif %}
                </div>
            </div>
            <div class="track-duration">{{ track.duration }} —Å–µ–∫</div>
            <div class="listens-count">{{ track.listens_count }}</div>
            <button class="play-button">‚ñ∂</button>
        </div>
        {% empty %}
        <div class="track-item">
            <div class="track-info">
                <div class="track-title">–¢—Ä–µ–∫–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</div>
                <div class="track-album">–ê—Ä—Ç–∏—Å—Ç –µ—â–µ –Ω–µ –≤—ã–ø—É—Å—Ç–∏–ª —Ç—Ä–µ–∫–∏</div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<section class="section">
    <div class="section-header">
        <h2 class="section-title">–ê–ª—å–±–æ–º—ã –∏ —Ä–µ–ª–∏–∑—ã</h2>
        <span class="track-count">{{ albums.count }} —Ä–µ–ª–∏–∑–æ–≤</span>
    </div>
    
    <div class="grid grid-4">
        {% for album in albums %}
        <div class="card track-card">
            {% if album.cover_url %}
            <img src="{{ album.cover_url }}" alt="{{ album.title }}" class="card-img">
            {% else %}
            <div class="card-img album-placeholder">
                üéµ
            </div>
            {% endif %}
            <div class="card-title">{{ album.title }}</div>
            <div class="card-subtitle">{{ album.get_album_type_display }}</div>
            <div class="card-album">{{ album.release_date|date:"Y" }}</div>
        </div>
        {% empty %}
        <div class="card track-card">
            <div class="card-img album-placeholder">
                üéµ
            </div>
            <div class="card-title">–ê–ª—å–±–æ–º–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</div>
            <div class="card-subtitle">–ê—Ä—Ç–∏—Å—Ç –µ—â–µ –Ω–µ –≤—ã–ø—É—Å—Ç–∏–ª –∞–ª—å–±–æ–º—ã</div>
        </div>
        {% endfor %}
    </div>
</section>
</div>
{% endblock %}